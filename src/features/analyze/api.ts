import { requestChatGPT } from "../../shared/chatgpt"


export const analyzeEntries = (entries: any[]) => {
  const prompt = `
 당신은 나의 창의성과 자기 성장을 위한 파트너입니다.

아래는 내가 매일 작성하는 짧은 정서/상황/아이디어 기록입니다.

이 기록을 기반으로 다음의 분석을 해주세요. 단, 표현은 감성적 과잉 없이, 형식적이지 않게, 진정성 있고 밀도 있게 작성해주시기 바랍니다.

분석 구조는 아래와 같습니다:

⸻

	1.	일일 요약 (100단어 이내)
오늘 하루의 정서적 핵심과 주요 경험을 요약. 단순 나열보다, 중심 흐름을 중심으로 압축
	2.	회고 분석 (200~300단어)

	•	오늘의 경험 중 의미 있었던 순간이 내 사고방식/행동에 어떤 인식적 전환을 일으켰는가
	•	감정 흐름을 시간 순으로 간략하게 정리해 보고, 어떤 감정이 어떻게 연결되었는지 보여주기
	•	반복되거나 변화 중인 무의식적 반응 패턴을 발견해보기
	•	외부 자극(사람, 사건, 피드백 등)에 대한 내 반응의 질감을 파악하고, 과장 없이 조명

	3.	내일을 위한 제안 (2가지)

	•	정서 흐름 또는 사고 패턴을 기반으로 한 작고 구체적인 실천 항목
	•	단기 목표나 인간관계/창의성에 적용 가능한, 무리 없는 확장 제안

⸻

✳︎ 중요:
	•	진부하거나 일반적인 코칭 언어(예: “스트레스를 줄이세요”, “긍정적으로 생각하세요”)는 피해주세요.
	•	내가 직접 남긴 기록에 기초한 구체적 통찰과 실천 아이디어가 중요합니다.
	•	형식보다는 내용의 밀도와 개인화된 연결을 우선합니다.


   이어서 오늘의 회고를 전달합니다. ${entries}
   `
  return requestChatGPT(prompt, entries)
}
